<form [formGroup]="dimensionsForm" (ngSubmit)="onSubmit()" class="ajouter-form" *ngIf="dimensionsForm">
  <mat-card class="section-card">
    <mat-card-title>Forme</mat-card-title>
    <div class="form-section">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Forme</mat-label>
        <input type="text" matInput [formControl]="formeControl" [matAutocomplete]="autoForme">
        <mat-autocomplete #autoForme="matAutocomplete" (optionSelected)="onFormeSelected($event)">
          <mat-option *ngFor="let option of filteredFormes$ | async" [value]="option">
            {{ option }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </div>
  </mat-card>

  <mat-card class="section-card">
    <mat-card-title>Dimensions</mat-card-title>
    <div class="form-section">
      <mat-form-field appearance="fill" class="field">
        <mat-label>Diamètre (mm)</mat-label>
        <input matInput formControlName="diametre" type="number">
      </mat-form-field>

      <mat-form-field appearance="fill" class="field">
        <mat-label>Largeur (mm)</mat-label>
        <input matInput formControlName="largeur" type="number">
      </mat-form-field>

      <mat-form-field appearance="fill" class="field">
        <mat-label>Longueur (mm)</mat-label>
        <input matInput formControlName="longueur" type="number">
      </mat-form-field>
    </div>

    <div class="form-section">
      <mat-form-field appearance="fill" class="field">
        <mat-label>Épaisseur (mm)</mat-label>
        <input matInput formControlName="epaisseur" type="number">
      </mat-form-field>

      <mat-form-field appearance="fill" class="field">
        <mat-label>Hauteur (mm)</mat-label>
        <input matInput formControlName="hauteur" type="number">
      </mat-form-field>
    </div>
  </mat-card>

  <div class="actions">
    <button mat-stroked-button color="primary" routerLink="/poincon/ajouter/step1">← Précédent</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="dimensionsForm.invalid">Suivant →</button>
  </div>
</form>
